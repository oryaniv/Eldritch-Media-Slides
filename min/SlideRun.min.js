var inAnimationsrep = inAnimationsrep || [], outAnimationsrep = outAnimationsrep || [], coldAnimationsrep = coldAnimationsrep || [], coldStatesrep = coldStatesrep || [], textStylesrep = textStylesrep || [], textAnimesrep = textAnimesrep || [], slideShowObject = slideShowObject || {}, typingObject = { minimum: 100, maximum: 1200, minFont: 14, maxFont: 80, fontRatio: 15 }, Run = function () { var e = slideShowObject; e.AudioObject && e.AudioObject.play(), e.Poster && $(".Poster").hide(); var t = e.Backgrounds.map(function (e) { return e.path }); e.backgroundbetween && $("body").css("background-size", "100% 100%"); var n = 8e3, i = 2e3, o = filterByLevel(inAnimationsrep, e.Animations), r = filterByLevel(outAnimationsrep, e.Animations), a = filterByLevel(coldAnimationsrep, e.Filters), l = filterByLevel(coldStatesrep, e.Filters), s = filterByLevel(textStylesrep, e.TextStyles), d = filterByLevel(textAnimesrep, e.TextAnimes), c = $(".background").toArray(); c.length; c.reverse(); var u = e.SlideSegments; if (c.length > 0) { var m = function (u, w) { var v = w[u], f = v.lifetime ? 1e3 * v.lifetime : n; if (v.text) { var h = s.length > 0 ? s[randArr(s)] : "", b = d.length > 0 ? d[randArr(d)] : ""; $("#textForSlides").html(v.text).addClass("subtitles").addClass(h).addClass(b), $("#allContent").flowtype(typingObject) } setTimeout(function () { var n, s; if (0 == r.length && 0 == a.length) $(c[u]).removeClass("visible"), $("#textForSlides").removeClass().html(""); else if (0 == r.length && 0 != a.length) { var d = randArr(a), v = a[d], f = l[d]; f = void 0 === f ? "" : f; var h = i; if ($(c[u]).removeClass(p).addClass(v), e.backgroundbetween) { var b = t[randArr(t)]; $("body").css("background-image", "url(" + b + ")") } setTimeout(function () { $(c[u]).removeClass(a[d]).addClass(l[d]), $("#textForSlides").removeClass().html(""), $(c[u]).removeClass("visible") }, h) } else { s = r[randArr(r)]; var p = u > 0 ? w[u].animation : "", h = 0, d = randArr(a); if (e.Filters > 0) { h += i; var v = a[d], f = l[d]; $(c[u]).removeClass(p).addClass(v) } if (e.backgroundbetween) { var b = t[randArr(t)]; $("body").css("background-image", "url(" + b + ")") } setTimeout(function () { e.Filters > 0 && $(c[u]).removeClass(a[d]).addClass(l[d]), $("#textForSlides").removeClass().html(""), $(c[u]).removeClass(p).addClass(s) }, h) } if (u >= c.length - 1) return e.CallBack.Function && window.parent[e.CallBack.Function].apply(this, e.CallBack.Params), void (e.Loop ? Replay() : Stop()); if (0 == o.length) $(c[u + 1]).addClass("visible"), m(u + 1, w); else { n = o[randArr(o)], w[u + 1].animation = n; var S = i; S = e.backgroundbetween ? S + i : S, S = e.Filters > 0 ? S + i : S, setTimeout(function () { $(c[u + 1]).addClass("visible").addClass(n), setTimeout(function () { m(u + 1, w) }, i) }, S) } }, f) }; m(0, u) } var w = e.SlideTexts; getSizes(); if (w.length > 0) { var v = function (e, t) { var n = t[e], i = $("#freeTexts"); if (i.html(n.text), i.removeClass(), i.attr("style", ""), n.style) { var o = ""; Object.keys(n.style).forEach(function (e) { o += e + ":" + n.style[e] + ";" }), i.attr("style", o) } else { var r = s.length > 0 ? s[randArr(s)] : ""; i.addClass("freeTexts " + r), $("#allContent").flowtype(typingObject) } var a = n.lifetime ? 1e3 * n.lifetime : 2e3; setTimeout(function () { $("#freeTexts").html(""), e < t.length - 1 && v(e + 1, t) }, a) }; v(0, w) } }, Play = function () { var e = $("#play .fa"); e && e.css("color", "rgba(95, 142, 236, 0.3)").attr("disabled", "disabled"), Run() }, Stop = function () { var e = $("#play .fa"); e && e.css("color", "").removeAttr("disabled"), cleanUp() }, Replay = function () { Stop(), Play() }, randArr = function (e) { return randInt(e.length) }, randInt = function (e) { return Math.floor(Math.random() * e) }, filterByLevel = function (e, t) { return e.filter(function (e) { return e.level <= t }).map(function (e) { return e.name }) }, cleanUp = function () { slideShowObject.Poster && $(".Poster").show(), slideShowObject.AudioObject && slideShowObject.AudioObject.stop(), clearAllTimeouts(); var e = $(".background").toArray(); e.reverse(), e.forEach(function (e) { $(e).removeClass().addClass("background") }), $(e[0]).addClass("visible"); var t = $("#freeTexts"); t.length > 0 && t.html("").removeClass("").addClass("freeTexts"); var n = $("#textForSlides"); n.length > 0 && n.html("").removeClass("").addClass("subtitles") }, changeAnimDuration = function (e, t) { var n = ["-webkit-", "-moz-", "-o-", ""]; n.forEach(function (n) { $(e).css(n + "animation-duration", t + "s") }) }, getSizes = function () { var e = 0, t = 0; return "number" == typeof window.innerWidth ? (e = window.innerWidth, t = window.innerHeight) : document.documentElement && (document.documentElement.clientWidth || document.documentElement.clientHeight) && (e = document.documentElement.clientWidth, t = document.documentElement.clientHeight), e }; window.timeoutList = new Array, window.intervalList = new Array, window.oldSetTimeout = window.setTimeout, window.oldSetInterval = window.setInterval, window.oldClearTimeout = window.clearTimeout, window.oldClearInterval = window.clearInterval, window.setTimeout = function (e, t) { var n = window.oldSetTimeout(e, t); return window.timeoutList.push(n), n }, window.clearTimeout = function (e) { var t = window.timeoutList.indexOf(e); t >= 0 && window.timeoutList.splice(t, 1); var n = window.oldClearTimeout(e); return n }, window.setInterval = function (e, t) { var n = window.oldSetInterval(e, t); return window.intervalList.push(n), n }, window.clearInterval = function (e) { var t = window.intervalList.indexOf(e); t >= 0 && window.intervalList.splice(t, 1); var n = window.oldClearInterval(e); return n }, window.clearAllTimeouts = function () { for (var e in window.timeoutList) window.oldClearTimeout(window.timeoutList[e]); window.timeoutList = new Array }, window.clearAllIntervals = function () { for (var e in window.intervalList) window.oldClearInterval(window.intervalList[e]); window.intervalList = new Array }; var AddImages = function (e) { var t = $("#containerDiv"); e.forEach(function (e) { slideShowObject.SlideSegments.push({ path: e }); var n = document.createElement("img"); n.src = e, n.className = "background", t.prepend(n) }) }, AddSlides = function (e) { var t = $("#containerDiv"); e.forEach(function (e) { slideShowObject.SlideSegments.push(e); var n = document.createElement("img"); n.src = e.path, n.className = "background", t.prepend(n) }), e.some(function (e) { return !!e.text }) && $("body").append("<span id='textForSlides' class='subtitles'></span>") }, AddSlideTexts = function (e) { e.forEach(function (e) { slideShowObject.SlideTexts.push(e) }), 0 == $("#freeTexts").length && $("body").append("<div id='freeTexts' class='freeTexts'></div>") }, AddBackGrounds = function (e) { e.forEach(function (e) { slideShowObject.Backgrounds.push(e) }) }, SetAnimationLevel = function (e) { slideShowObject.Animations = e }, SetFilters = function (e) { slideShowObject.Filters = e }, SetTextStyles = function (e) { slideShowObject.TextStyles = e }, SetTextAnimes = function (e) { slideShowObject.TextAnimes = e }, SetAudio = function (e) { slideShowObject.AudioObject && slideShowObject.AudioObject.stop(), e ? (slideShowObject.AudioObject = new Howl({ urls: [e] }), slideShowObject.AudioObject.play(), 0 == $("#volume").length && $("#controlBar").append('<span id="volume"   onmouseover= "showVolumeSlider();" onmouseout= "hideVolumeSlider();" > <i class="fa fa-volume-up"> </i></span><input type="range" id="range" min="0"  max="100" step="5" data-orientation="vertical"  />'), setTimeout(fixRangeSlider, 100)) : (slideShowObject.AudioObject = null, $("#volume").remove(), $(".rangeslider").remove(), $("#range").remove()) }, SetVolume = function (e) { slideShowObject.AudioObject ? (slideShowObject.AudioObject.volume(e / 100), $("#volume i").removeClass().addClass(setVolumeIcon(e)), $("#range").val(e).rangeslider("update", !0)) : console.warn("do not try to set the volume of a slideshow with no audio porperty") }, SetCallBack = function (e) { slideShowObject.CallBack = e }, SetLoop = function (e) { slideShowObject.Loop = e }, SetBackgroundBetween = function (e) { slideShowObject.backgroundbetween = e, e === !1 && $("body").css("background-image", "") };