var EldritchSlideShow;!function(e){e.configOptions={scriptPath:"https://rawgit.com/oryaniv/Slideshow-widget/master/production",stylePath:"https://rawgit.com/oryaniv/Slideshow-widget/master/production"},e.Config=function(t,n){return t in e.configOptions?void(e.configOptions[t]=n):void console.error("property "+t+" does not exist in Eldritch Slide Show configuration")};var t="http://",n=function(){function e(e){var n=this;if(this.Images=[],this.Slides=[],this.SlideTexts=[],this.Backgrounds=[],this.Animations=0,this.Filters=0,this.TextStyles=0,this.TextAnimes=0,this.Size=0,this.Audio="",this.Loop=!1,this.Controls=0,this.backgroundbetween=!1,this.CssClass="",this.CallBack={Function:"",Params:[]},this.Poster="",this.AllowUnsafe=!1,this.SlideSegments=[],this.ConstructionSuccessful=!0,this.checkArray=function(e,n){return Array.isArray(n)?!0:(console.error(e+" should be an array, instead it is "+typeof n+" check your input or look at documentation at "+t),!1)},this.fixRange=function(e,n,i,o){return isNaN(i)?(console.error(o+" should be a number, instead it is "+typeof i+" please check the documentation at "+t),!1):e>i||i>n?(console.error(o+" is out of range should be between "+e+" to"+n+"please check the documentation at "+t),!1):!0},this.checkBool=function(e,n){var i=!0;return"boolean"!=typeof e&&(console.error(n+" should be only true/false, instead it is "+typeof e+" please read documentation at "+t),i=!1),i},this.checkObject=function(e,n){var i=!0;return"object"!=typeof e&&(console.error(n+" should be and object of the proper type, instead it is "+typeof e+" please read documentation at "+t),i=!1),i},this.checkString=function(e,n){var i=!0;return"string"!=typeof e&&(console.error(n+" should be a string of characters, instead it is "+typeof e+" please read documentation at "+t),i=!1),i},this.checkCallBack=function(e){return n.checkObject(e,"CallBack")?"string"!=typeof e.Function?(console.error("CallBack.Function should be a string name of a function, instead it is "+typeof e.Function+" please read documentation at "+t),!1):n.checkArray("Params",e.Params)?!0:!1:!1},this.Properties=["Images","Slides","SlideTexts","Backgrounds","Animations","Filters","TextStyles","TextAnimes","Size","Audio","Loop","Controls","backgroundbetween","CssClass","CallBack","Poster"],this.inputValidationHandlers={Images:function(e){return n.checkArray("Images",e)&&e.every(function(e){return n.checkString(e,e)})},Slides:function(e){return n.checkArray("Slides",e)&&e.every(function(e){return n.checkObject(e,e)})},SlideTexts:function(e){return n.checkArray("SlideTexts",e)&&e.every(function(e){return n.checkObject(e,e)})},Backgrounds:function(e){return n.checkArray("Backgrounds",e)&&e.every(function(e){return n.checkObject(e,e)})},Animations:function(e){return n.fixRange(0,4,e,"Animations")},TextStyles:function(e){return n.fixRange(0,4,e,"TextStyles")},TextAnimes:function(e){return n.fixRange(0,3,e,"TextAnimes")},Size:function(e){return n.fixRange(0,4,e,"Size")},Filters:function(e){return n.fixRange(0,3,e,"Filters")},Controls:function(e){return n.fixRange(0,2,e,"Controls")},CallBack:function(e){return n.checkCallBack(e)},Audio:function(e){return n.checkString(e,"Audio")},Loop:function(e){return n.checkBool(e,"Loop")},CssClass:function(e){return n.checkString(e,"CssClass")},backgroundbetween:function(e){return n.checkBool(e,"backgroundbetween")},Poster:function(e){return n.checkString(e,"Poster")}},this.handlePropertyNames=function(e){var t=!0;for(var i in e)n.Properties.indexOf(i)<0&&(console.error(i+" is not a valid parameter for an Eldritch media slideshow, check your spelling, check that your properties are cased correctly or check the documentation at "),t=!1);return t},this.handlePropertyInputs=function(e){var t=!0;for(var i in e){var o=n.inputValidationHandlers[i](e[i]);t=t&&o}return t},this.handlePropertyNames(e)&&this.handlePropertyInputs(e))for(var i in e)this[i]=e[i];else this.ConstructionSuccessful=!1}return e}();e.SlideShow=n;var i,o=function(){function e(e,n){var i=this;this.Start=function(){var e=i.targetFrame.contentWindow;return"complete"===e.document.readyState?e.Play():e.document.addEventListener("DOMContentLoaded",function(){e.Play()}),i},this.Stop=function(){return i.targetFrame.contentWindow.Stop(),i},this.Replay=function(){var e=i.targetFrame.contentWindow;return"complete"===e.document.readyState?e.Replay():e.document.addEventListener("DOMContentLoaded",function(){e.Replay()}),i},this.AddImages=function(e){i.slideShow.inputValidationHandlers.Images(e)&&(e.forEach(function(e){return i.slideShow.SlideSegments.push(e)}),i.targetFrame.contentWindow.AddImages(e))},this.AddSlides=function(e){i.slideShow.inputValidationHandlers.Slides(e)&&(e.forEach(function(e){return i.slideShow.SlideSegments.push(e)}),i.targetFrame.contentWindow.AddSlides(e))},this.AddSlideTexts=function(e){i.slideShow.inputValidationHandlers.SlideTexts(e)&&(e.forEach(function(e){return i.slideShow.SlideTexts.push(e)}),i.targetFrame.contentWindow.AddSlideTexts(e))},this.AddBackGrounds=function(e){i.slideShow.inputValidationHandlers.Backgrounds(e)&&(e.forEach(function(e){return i.slideShow.Backgrounds.push(e)}),i.targetFrame.contentWindow.AddBackGrounds(e))},this.SetAnimationLevel=function(e){i.slideShow.inputValidationHandlers.Animations(e)&&(i.slideShow.Animations=e,i.targetFrame.contentWindow.SetAnimationLevel(e))},this.SetFilters=function(e){i.slideShow.inputValidationHandlers.Filters(e)&&(i.slideShow.Filters=e,i.targetFrame.contentWindow.SetFilters(e))},this.SetTextStyles=function(e){i.slideShow.inputValidationHandlers.TextStyles(e)&&(i.slideShow.TextStyles=e,i.targetFrame.contentWindow.SetTextStyles(e))},this.SetTextAnimes=function(e){i.slideShow.inputValidationHandlers.TextAnimes(e)&&(i.slideShow.TextAnimes=e,i.targetFrame.contentWindow.SetTextAnimes(e))},this.SetSize=function(e){if(i.slideShow.inputValidationHandlers.Size(e)){var t=(u(e),document.createAttribute("style"));t.value=u(e),i.targetFrame.setAttributeNode(t)}},this.SetAudio=function(e){i.slideShow.inputValidationHandlers.Audio(e)&&(i.slideShow.Audio=e,i.targetFrame.contentWindow.SetAudio(e))},this.SetVolume=function(e){return isNaN(e)||0>e||e>100?void console.error("volume should be a number in range 0 - 100. please look at documentatio at"+t):void i.targetFrame.contentWindow.SetVolume(e)},this.SetCallBack=function(e){i.slideShow.inputValidationHandlers.CallBack(e)&&(i.slideShow.CallBack=e,i.targetFrame.contentWindow.SetCallBack(e))},this.SetLoop=function(e){i.slideShow.inputValidationHandlers.Loop(e)&&(i.slideShow.Loop=e,i.targetFrame.contentWindow.SetLoop(e))},this.SetBackgroundBetween=function(e){i.slideShow.inputValidationHandlers.backgroundbetween(e)&&(i.slideShow.backgroundbetween=e,i.targetFrame.contentWindow.SetBackgroundBetween(e))},this.SetCssClass=function(e){i.slideShow.inputValidationHandlers.CssClass(e)&&(i.targetFrame.className=e)},this.slideShow=e,this.targetFrame=n}return e}();!function(e){e[e.None=0]="None",e[e.Basic=1]="Basic",e[e.Standard=2]="Standard",e[e.All=3]="All"}(i||(i={}));var r;!function(e){e[e.None=0]="None",e[e.Basic=1]="Basic",e[e.Standard=2]="Standard",e[e.All=3]="All"}(r||(r={}));var a;!function(e){e[e.Normal=0]="Normal",e[e.Basic=1]="Basic",e[e.Advanced=2]="Advanced",e[e.Flamboyant=3]="Flamboyant"}(a||(a={}));var s;!function(e){e[e.None=0]="None",e[e.Basic=1]="Basic",e[e.All=2]="All"}(s||(s={})),function(e){e[e.None=0]="None",e[e.Small=1]="Small",e[e.Medium=2]="Medium",e[e.Large=3]="Large",e[e.Fullscreen=4]="Fullscreen"}(e.FixedSize||(e.FixedSize={}));var c;e.FixedSize;!function(e){e[e.image=0]="image",e[e.video=1]="video"}(c||(c={})),function(e){e[e.None=0]="None",e[e.Hover=1]="Hover",e[e.Always=2]="Always"}(e.ControlStyle||(e.ControlStyle={}));e.ControlStyle,function(){function e(e){for(var t in e)this[t]=e[t]}return e}(),function(){function e(){}return e}(),function(){function e(){}return e}();e.Create=function(i,r){var a,s;if("object"==typeof i)s=document.createElement("div"),document.body.appendChild(s),a=i;else{var c=i;if("string"!=typeof c)return console.error("first parameter must be an object or a character string please check documentation at "+t),null;if(s=document.querySelector(c),!s)return console.error("Eldritch Media slides was not able to find target container. please make sure to send a correct queryString. please look at documentation at: "+t),null;a=r}"object"!=typeof a&&(console.error("Eldrtich Media Slides must take an object as a parameter to the create method. check the documentation at "+t),l(s));var p=new n(a);if(!p.ConstructionSuccessful)return l(s),null;var S=[];if(p.Images.forEach(function(e){var t=document.createElement("img");t.src=e,t.className="background",S.push(t)}),p.Slides.forEach(function(e){var t=d(e);S.push(t)}),0===S.length)return console.error("no images or slides in input, please fill the 'Images' or 'Slides' property according to "+t),l(s),null;S[0].className+=" visible";var g="";g+=m(),p.Poster&&(g+="<img class='Poster'  src='"+p.Poster+"' />"),g+="<div id='allContent'>";var v=document.createElement("div");v.id="containerDiv",S.reverse().forEach(function(e){v.appendChild(e)}),g+=v.outerHTML,p.SlideSegments=p.Images.map(function(e){return{path:e}}).concat(p.Slides),p.Slides.some(function(e){return!!e.text})&&(g+="<span id='textForSlides' class='subtitles'></span>"),p.SlideTexts.length>0&&(g+="<span id='freeTexts' class='freeTexts'></span>"),g+="</div>",0!=p.Controls&&(g+=h(p.Audio));var w=document.createElement("iframe");""===p.CssClass&&0===p.Size&&(p.Size=1),w.className=p.CssClass;var y=document.createAttribute("style");y.value=u(p.Size),w.setAttributeNode(y),s.appendChild(w);var b=f(p),k="<script src='"+e.configOptions.scriptPath+"/EldritchMediaSlidesRun.min.js'></script>",A=0!=p.Controls?"<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css'>":"",x="<link rel='stylesheet' href='"+e.configOptions.stylePath+"/EldritchMediaSlidesStyle.min.css'/>";return w.contentWindow.document.open("text/html","replace"),w.contentWindow.document.write(x+A+g+k+b),w.contentWindow.document.close(),new o(p,w)};var l=function(e){var t=document.createElement("div"),n=document.createAttribute("style");n.value="box-sizing: border-box;height:12.5rem;width:19rem;padding: 20px;overflow: hidden; border: 2px solid rgba(247,14,14,1); font: normal 12px/1 Arial Black, Gadget, sans-serif;color: rgba(113,4,4,1);background: rgba(255,86,86,0.89);text-align:center;",t.setAttributeNode(n),t.innerHTML="<h1>Whoops!</h1><br/><div>seems like you have passed bad input, and the media slide could not be created. please check developer tools console (F12 => console) for more information</div>",e.appendChild(t)},d=function(e){if(1!==e.Type){var t=document.createElement("img");return t.src=e.path,t.className="background",t}var n=document.createElement("video");n.className="background";var i=document.createElement("source");i.src=e.path,i.type="mp4",n.appendChild(i);var o=document.createAttribute("data-subtitle");o.value=e.text,n.setAttributeNode(o);var r=document.createAttribute("data-lifetime");return r.value=e.lifetime.toString(),t.setAttributeNode(r),n},u=function(e){switch(e){case 1:return"height:12.5rem;width:19rem;";case 2:return"height:22rem;width:31rem";case 3:return"height:38rem;width:56rem";case 4:return"position: fixed;top: 0;left: 0;width: 100%;height: 100%;";default:return""}},h=function(e){var t=e?'<span id="volume"   onmouseover= "showVolumeSlider();" onmouseout= "hideVolumeSlider();" > <i class="fa fa-volume-up"> </i></span><input type="range" id="range" min="0"  max="100" step="5" data-orientation="vertical"  />':"",n='<div id="controlBar" ><button id="play" class="control-button" title= "play" > <i class="fa fa-play" > </i></button><button id="stop" class="control-button" title= "stop" ><i class="fa fa-stop" > </i> </button><button id="replay" class="control-button" title= "replay"><i class="fa fa-repeat" > </i></button>'+t+"</div>";return n},f=function(e){var t="<script type='text/javascript'>",n="var slideShowObject ="+JSON.stringify(e)+";\n\n\n",i="</script>";return t+n+i},m=function(){return"<div id='loading'  style='background-color:black; position:fixed;top:0;left:0;width:100%;height:100%;z-index:1500;overflow: hidden;background: radial-gradient(circle, rgba(12,99,21,0.2) 0, rgba(12,99,21,0.2) 7%, rgba(4,12,79,1) 50%, rgba(4,12,79,1) 100%);'><h1 style='color:red;text-align:center;font: normal 2em/2 Comic Sans MS, cursive, sans-serif;letter-spacing: 3px;'>Loading the Awesome!</h1></div>"}}(EldritchSlideShow||(EldritchSlideShow={}));
